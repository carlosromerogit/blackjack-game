(()=>{"use strict";let e=[],t=0,n=0;const r=["C","D","H","S"],s=["A","J","Q","K"],d=document.querySelector("#btnNewGame"),l=document.querySelector("#btnAskCard"),i=document.querySelector("#btnStop"),c=document.querySelectorAll(".htmlScore"),o=document.querySelectorAll(".cards-container"),a=document.querySelector(".result"),u=()=>{e=[];for(let t=2;t<=10;t++)for(const n of r)e.push(`${t+n}`);for(const t of s)for(const n of r)e.push(`${t+n}`);return _.shuffle(e)};u();const b=()=>{if(0===e.length)throw"No hay mÃ¡s cartas en el deck";return e.pop()},m=e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:Number(t)},T=e=>{do{const e=b(),t=m(b());c[1].innerText=n+=t;const r=document.createElement("img");r.src=`/assets/cards/${e}.png`,r.classList.add("card"),o[1].append(r)}while(n<e&&n<=21)};d.addEventListener("click",()=>{e=[],e=u(),t=0,n=0,c[0].innerHTML=0,c[1].innerHTML=0,l.disabled=!1,i.disabled=!1,a.innerHTML="",o[0].innerHTML="",o[1].innerHTML=""}),l.addEventListener("click",()=>{const e=b(),n=m(b());c[0].innerText=t+=n;const r=document.createElement("img");r.src=`/assets/cards/${e}.png`,r.classList.add("card"),o[0].append(r),Number(c[0].innerHTML)>21?(a.style.color="#CB4335",a.innerText="Perdiste",l.disabled=!0,i.disabled=!0,T(n)):21===Number(c[0].innerHTML)&&(a.style.color="#2ECC71",a.innerText="Genial, obtuviste 21!",l.disabled=!0,i.disabled=!0)}),i.addEventListener("click",()=>{if(21===t)return l.disabled=!0,void(i.disabled=!0);T(t),21===n&&(a.style.color="#CB4335",a.innerText="Perdiste!",l.disabled=!0,i.disabled=!0),n>t&&n<21&&(a.style.color="#CB4335",a.innerText="Perdiste!",l.disabled=!0,i.disabled=!0),n>t&&n>21&&(a.style.color="#2ECC71",a.innerText="Ganaste!",l.disabled=!0,i.disabled=!0),n===t&&(a.style.color="#F4D03F",a.innerText="Empate!",l.disabled=!0,i.disabled=!0)})})();